<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>endgame</title>

        <link rel="stylesheet" href="css/endgame.css">

        <!-- Dependencies -->
        <script src="//cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
        <script src="//cdn.peerjs.com/0.3/peer.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r70/three.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/vue/0.11.4/vue.min.js"></script>
        <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
        <script src="js/vendor/three.canvasrenderer.js"></script>

        <script src="js/endgame.js" defer></script>
    </head>
    <body>
        <!-- Templated components -->
        <div id="waitscreen" class="notice modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">
                            <span class="label label-default">endgame</span> - A WebRTC-enabled 3D chess game
                        </h4>
                    </div>
                    <div class="modal-body">
                        <p>A game room has been created for you! Send this link to a friend to have them join:</p>
                        <p><code>{{link}}</code></p>
                        <p>The game will automatically continue once they join.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="mediascreen" class="notice modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">
                            <span class="label label-default">endgame</span>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <p>Now we need to setup the media call. If you have a webcam and mic, you can click <code>Allow</code> to permit the video feed to be sent to your friend.</p>
                        <p>Don't worry, if you don't have a webcam or just don't want to use it, you can still play endgame (but if you've blocked it before, you may not receive a notification and may need to manually allow it; look for an icon of a camera with an <code>X</code> over it).</p>
                        <p>The game will automatically continue when both you and your friend have allowed or denied media access.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="localvideopanel" class="local-video-panel panel panel-default">
            <div class="panel-body">
                <video id="localvideo" autoplay muted></video>
            </div>
        </div>
    </body>
</html>
